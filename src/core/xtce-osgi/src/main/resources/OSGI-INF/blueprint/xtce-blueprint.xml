<?xml version="1.0" encoding="UTF-8"?>
<blueprint	xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
			xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
			xmlns:cm="http://www.osgi.org/xmlns/blueprint-cm/v1.0.0" 			 
			xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd 
								http://www.osgi.org/xmlns/blueprint-cm/v1.0.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.0.0.xsd"  
			default-activation="lazy">
 			
 	<bean id="XtceSpaceSystemModelFactory" class="org.hbird.core.xtce.XtceSpaceSystemModelFactory">
 		<cm:managed-properties persistent-id="org.hbird.core.xtce"/>
 	</bean>
	
	<!--
		Exports the XtceSpaceSystemModelFactory bean as a provides of the SpaceSystemModelFactory service.
		The service is also registered as a DOSGi RESTful web service 
	 -->
	<service id="XtceSpaceSystemModelFactoryService" 
			 activation="lazy"
			 interface="org.hbird.core.spacesystemmodel.SpaceSystemModelFactory">
			 <service-properties>
				<entry key="service.exported.interfaces" value="org.hbird.core.spacesystemmodel.SpaceSystemModelFactory"/> <!-- Adds DOSGi remote access to service interface -->
				<entry key="service.exported.configs" value="org.apache.cxf.rs"/>
				<entry key="service.exported.intents" value="HTTP"></entry>
				<entry key="org.apache.cxf.ws.httpservice.context" value="/xtce"/>
      		</service-properties>
			 <ref component-id="XtceSpaceSystemModelFactory"/>
	</service>

</blueprint>