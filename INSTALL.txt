Karaf setup
---------------------------
Download and extract Karaf version 2.2.9 from:
http://karaf.apache.org/

NOTE!!! If you experiment with the snapshot of Karaf 3 beware that the features command has been migrated to feature (no trailing s!).
Also, addurl has become repo-add.

Install Karaf Webconsole if required (features:install webconsole)
You can reach it at http://localhost:8181/system/console/

Hbird
--------
features:addurl mvn:org.hbird.osgi/osgi-provisioning/0.0.1-SNAPSHOT/xml/features

feature:install hbird-jersey
feature:install hbird-complete

If you update the provisioning features file don't forget to refresh:
features:refreshurl mvn:org.hbird.osgi/osgi-provisioning/0.0.1-SNAPSHOT/xml/features

Optional: Add following config file to $karaf/etc/
	org.hbird.osgi.xtceosgi.xtceSpaceSystemModelFactoryUpdater.cfg


In the current version of our features.xml, Camel is referenced, so you do not need to install it manually. The following is left for reference:
	
Camel
--------------
features:addurl mvn:org.apache.camel.karaf/apache-camel/2.9.2/xml/features
KARAF3 alert: You need 2.10.0 camel features.

features:install -v camel-core camel-blueprint camel-jms camel-netty camel-spring


Activemq
--------------
See:
http://activemq.apache.org/osgi-integration.html

NOTE: The 5.5.0 is a lot more stable. 5.6.0 has some issues with thew web console and jmx connection settings.

features:addurl mvn:org.apache.activemq/activemq-karaf/5.5.0/xml/features
OR (if you are feeling lucky)
features:addurl mvn:org.apache.activemq/activemq-karaf/5.6.0/xml/features

features:install -v activemq-blueprint activemq-spring activemq-web-console

You need 5.6.0 for activemq camel component
features:addurl mvn:org.apache.activemq/activemq-karaf/5.6.0/xml/features
features:install -v activemq-camel

Create a broker and install web console. The web console only seems to work after a broker is created.
activemq:create-broker --name "SillyBroker"

Add this to etc/system.properties:

webconsole.type=properties
webconsole.jms.url=tcp://localhost:61616
webconsole.jmx.url=service:jmx:rmi:///jndi/rmi://localhost:1099/karaf-root
webconsole.jmx.user=karaf
webconsole.jmx.password=karaf



CXF
-------
##############################################
# CXF not required until we go back to DOSGi #
##############################################
Swap  etc/jre.properties with the jre.properties.cxf file.

features:addurl mvn:org.apache.cxf.karaf/apache-cxf/2.6.2/xml/features
features:install -v http cxf-core cxf-jaxws cxf-jaxrs


